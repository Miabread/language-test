export { Equal, TryEqual, normal_to_try };

trait Equal<T, U = T> {
    func equal(left: ref T, right: ref U) -> Boolean;

    func not_equal(left: ref T, right: ref U) -> Boolean {
        not(this::equal(left, right))
    };
};

trait TryEqual<T, U = T> {
    func try_equal(left: ref T, right: ref U) -> Optional<Boolean>;
};

module normal_to_try<T, U = T, impl: Equal<T, U>> -> Equal<T, U> {

    func try_equal(left, right) {
        Some(impl::equal(left, right))
    };
};
